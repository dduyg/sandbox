<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>LimimalLoop</title>
  
  <!-- Highlight.js core -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/default.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/python.min.js"></script>
  <!-- Custom theme -->
  <link rel="stylesheet" href="my-theme.css">
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      hljs.highlightAll();
    });
  </script>
  
  <style>
    body {
      margin: 0;
      padding: 40px;
      background: #FBFBFB;
      font-family: Arial, sans-serif;
    }
    .container {
      max-width: 900px;
      margin: 0 auto;
    }
    pre {
      margin: 0;
    }
  </style>
</head>
<body>
  <div class="container">
    <pre><code class="language-python">
import pandas as pd
from sdv.tabular import GaussianCopula
from ydata_profiling import ProfileReport

# Load real dataset
df = pd.read_csv("raw_data.csv")

# Generate profiling report
profile = ProfileReport(df, title="Data Health Check")
profile.to_file("report.html")

# Function to train SDV model and generate synthetic data
def generate_synthetic_data(real_data: pd.DataFrame, n_samples: int = 1000):
    """
    Train GaussianCopula model from SDV and generate synthetic samples.
    """
    print("Training SDV model...")
    model = GaussianCopula()
    model.fit(real_data)  # fit model to real data

    print(f"Generating {n_samples} synthetic samples...")
    synthetic_data = model.sample(n_samples)

    # Post-processing: round numeric columns if needed
    for col in synthetic_data.select_dtypes(include='float').columns:
        synthetic_data[col] = synthetic_data[col].round(2)

    return synthetic_data

# Generate 500 synthetic rows
synthetic_df = generate_synthetic_data(df, n_samples=500)

# Save synthetic data to CSV
output_file = "synthetic_data.csv"
synthetic_df.to_csv(output_file, index=False)
print(f"Synthetic data saved to {output_file}")

# Optional: loop to inspect first 5 rows
print("\nPreview of synthetic data:")
for i, row in synthetic_df.head(5).iterrows():
    print(row.to_dict())

# Conditional example: check for nulls
if synthetic_df.isnull().sum().sum() > 0:
    print("Warning: Synthetic data contains nulls!")
else:
    print("No missing values in synthetic data.")

# Example of using numbers and strings
num_samples = 10
for i in range(num_samples):
    print(f"Sample {i+1} has {len(synthetic_df.columns)} columns")
    </code></pre>
  </div>
</body>
</html>
