# Data Dictionary

This document defines every field generated by the *glyph feature pipeline*, describing:
- what it represents
- how it's computed
- its data type
- and possible values

<br>

### ğŸ“ Top-Level Structure
Each processed glyph entry includes:

```json
{
  "id": "",
  "filename": "",
  "glyph_url": "",
  "color": { ... },
  "metrics": { ... },
  "color_harmony": "",
  "mood": "",
  "created_at": { ... }
}
```

## ğŸ”¹ Field Definitions

### id

- **Type:** string
- **Example:** `"a3f92cd1"`
- **Description:** A unique 8â€‘character hash assigned to the glyph using UUID4

---

### filename

- **Type:** string
- **Format:** `{dominant_hex}_{secondary_hex}_{id}.png`
- **Example:** `"e3b45c_7a92d4_af39dc12.png"`
- **Description:** The output filename created based on dominant color + secondary color + unique ID for visual identification and easy sorting

---

### glyph_url

- **Type:** string
- **Description:** Direct CDN URL pointing to the stored glyph image via jsDelivr

---

## ğŸ¨ Color Detection

### color.dominant.hex

- **Type:** string (hex color without `#` prefix)
- **Example:** `"a1c2f3"`
- **Description:** Primary dominant color of the glyph in hexadecimal representation, extracted using K-means clustering (`k=3`) with saturation-weighted sampling. Tiny clusters (<5% of pixels) are ignored for better perceptual accuracy.

---

### color.dominant.rgb

- **Type:** array of 3 integers
- **Range:** `[0-255, 0-255, 0-255]`
- **Example:** `[161, 194, 243]`
- **Description:** RGB values of the dominant color cluster, emphasizing the most visually noticeable color.

---

### color.dominant.lab

- **Type:** array of 3 floats `[L, a, b]`
- **Range:**
    - `L`: 0â€“100 (lightness)
    - `a`: -128 to +127 (green to red)
    - `b`: -128 to +127 (blue to yellow)
- **Example:** `[58.23, -12.14, -18.76]`
- **Description:** Perceptually uniform CIELAB color space representation of dominant color for accurate color distance calculations and color theory applications

---

### color.secondary.hex

- **Type:** string (hex color without `#` prefix)
- **Example:** `"7a92d4"`
- **Description:** Second most prominent color in the glyph, extracted as the **largest cluster after the dominant**. Tiny clusters (<5% of pixels) are ignored to match human visual perception.

---

### color.secondary.rgb

- **Type:** array of 3 integers
- **Range:** `[0-255, 0-255, 0-255]`
- **Example:** `[122, 146, 212]`
- **Description:** RGB values of the secondary color cluster, emphasizing visually noticeable colors.

---

### color.secondary.lab

- **Type:** array of 3 floats `[L, a, b]`
- **Range:**
    - `L`: 0â€“100 (lightness)
    - `a`: -128 to +127 (green to red)
    - `b`: -128 to +127 (blue to yellow)
- **Example:** `[62.45, 8.32, -24.11]`
- **Description:** CIELAB representation of secondary color for perceptual color analysis

---

### color.palette_distance

- **Type:** float
- **Example:** `0.3542`
- **Interpretation:**
    - **0.0â€“0.1**: Nearly identical colors (monochromatic with subtle shading)
    - **0.1â€“0.3**: Low contrast (analogous colors, e.g., blue â†’ teal)
    - **0.3â€“0.5**: Medium contrast (distinct but harmonious)
    - **0.5â€“0.7**: High contrast (complementary colors, e.g., blue â†” orange)
    - **0.7+**: Very high contrast (opposing colors, e.g., black â†” white)
- **Description:** Perceptual color distance between dominant and secondary colors measured in LAB color space. Quantifies color diversity independently of luminance contrast.

---

### color_harmony

- **Type:** string (categorical)
- **Possible values:** `analogous`, `complementary`, `triadic`, `none`
- **Interpretation:**
    - `analogous`: Dominant and secondary colors are within 30Â° on the color wheel (harmonious, related colors)
    - `complementary`: Colors are ~180Â° apart (high contrast, opposing colors)
    - `triadic`: Colors roughly 120Â° apart, forming a triad on the color wheel
    - `none`: No clear harmonic relationship (color separation 30Â°â€“150Â°)
- **Description:** Relationship between dominant and secondary colors based on hue angle separation in HSV color space

---

## ğŸ“ Metrics

### metrics.edge_density

- **Type:** float
- **Range:** 0.0â€“1.0
- **Example:** `0.1823`
- **Interpretation:**
    - High values (>0.08) â†’ many edges, complex shapes, detailed linework
    - Low values (<0.02) â†’ smooth, minimal shapes
- **Description:** Proportion of edge pixels detected using Canny edge detection (thresholds: 80, 160) within the glyph mask.

---

### metrics.entropy

- **Type:** float
- **Range:** ~0.0â€“8.0
- **Example:** `5.2341`
- **Interpretation:**
    - High entropy (>5.0) â†’ textured, detailed, noisy
    - Low entropy (<2.5) â†’ simple, uniform
- **Description:** Measures informational complexity using Shannon entropy of grayscale pixels

---

### metrics.texture

- **Type:** float
- **Example:** `2.7341`
- **Interpretation:**
    - High values (>2.5) â†’ rich surface detail, complex patterns
    - Low values (<1.5) â†’ smooth, uniform surfaces
- **Description:** Texture complexity measured using Local Binary Pattern (LBP) analysis

---

### metrics.contrast

- **Type:** float
- **Example:** `0.6842`
- **Interpretation:**
    - High values (>0.6) â†’ strong light-dark variation
    - Medium values (0.3â€“0.6) â†’ moderate tonal depth
    - Low values (<0.3) â†’ flat brightness
- **Description:** Michelson contrast measuring luminance range across pixels

---

### metrics.circularity

- **Type:** float
- **Example:** `0.8164`
- **Interpretation:**
    - 1.0 = perfect circle
    - Low values (<0.5) = irregular or elongated shapes
- **Description:** Shape roundness metric from the largest contour

---

### metrics.aspect_ratio

- **Type:** float
- **Example:** `1.2641`
- **Description:** Width-to-height ratio of the largest contour's bounding box

---

### metrics.edge_angle

- **Type:** float
- **Example:** `37.0928`
- **Interpretation:**
    - ~0Â° or 180Â° = horizontal edges
    - ~90Â° = vertical edges
    - ~45Â° or 135Â° = diagonal
- **Description:** Dominant orientation of edges (0â€“180Â°) from Sobel gradients

---

## ğŸŒ€ Mood Classification

### mood

- **Type:** string (categorical)
- **Possible values:**`serene` Â· `calm` Â· `playful` Â· `energetic` Â· `futuristic` Â· `mysterious` Â· `dramatic` Â· `chaotic`
- **Description:** Classified based on multi-factor analysis of color, texture, contrast, shape, and edge orientation:
    - **Serene** - Low entropy, smooth edges, cool tones
    - **Calm** - Moderate entropy, analogous harmony, desaturated
    - **Playful** - Medium-high entropy, varied shapes, bright colors
    - **Energetic** - High saturation, warm tones, dynamic contrast
    - **Futuristic** - Specific aspect ratios, geometric precision
    - **Mysterious** - Low brightness, cool tones, high contrast
    - **Dramatic** - Very high contrast, bold tonal differences
    - **Chaotic** - Extremely high entropy, dense edges, complex textures

---

## ğŸ•’ Creation Stamp

### created_at.date

- **Type:** string (ISO 8601 date)
- **Format**: `YYYY-MM-DD`
- **Example**: `"2025-12-27"`
- **Description**: Date when the glyph was processed

### created_at.time

- **Type:** string (ISO 8601 time)
- **Format**: `HH:MM:SS`
- **Example**: `"14:30:22"`
- **Description**: Time when the glyph was processed